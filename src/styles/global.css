@import './tokens.css';

*,
*::before,
*::after {
  box-sizing: border-box;
}

html, body, #root {
  height: 100%;
  margin: 0;
  font-family: var(--font-sans);
  font-size: var(--font-size-base);
  color: var(--text-color);
  background: var(--bg);
  line-height: var(--line-height-base);
}

.container {
  max-width: 1100px;
  margin: 0 auto;
  padding: 1rem;
}

.skip-link {
  position: absolute;
  left: -9999px;
  top: auto;
  width: 1px;
  height: 1px;
  overflow: hidden;
}
.skip-link:focus {
  left: 1rem;
  top: 1rem;
  width: auto;
  height: auto;
  background: var(--color-accent);
  color: white;
  padding: 0.5rem;
  z-index: 9999;
}

/* Screen-reader only helper */
.sr-only {
  position: absolute !important;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* Visible focus styles for keyboard users (WCAG-friendly) */
:focus-visible {
  outline: 3px solid var(--color-accent);
  outline-offset: 2px;
  box-shadow: none;
}

.site-header {
  border-bottom: 1px solid var(--color-muted);
  background: #fff;
}
.header-inner {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 1rem;
}
.topbar { display:flex; align-items:center; justify-content:space-between; gap:1rem; padding:0.75rem 0; }
.branding { display:flex; align-items:center; gap:0.75rem; }
.logo { width:72px; height:auto; }
.title .org { font-weight:700; }
.title .dept { font-size:0.85rem; color:#555; }
.search-centered { display:flex; align-items:center; gap:0.5rem; flex:1; justify-content:center; }
.search-centered input { padding:0.35rem 0.5rem; width:200px; max-width:60%; border:1px solid #ccc; border-radius:4px; font-size:0.95rem; }
.search-centered .search-btn { padding:0.25rem 0.4rem; border-radius:4px; border:1px solid #ccc; background:#fff; cursor:pointer; }
.right-logos .mini-logo { height:60px; width:auto; }

.emblem { width:48px; height:auto; margin-right:0.5rem; }

.access-controls { display:flex; gap:0.5rem; align-items:center; margin-right:0.5rem; }
.access-btn { background: transparent; border:1px solid rgba(0,0,0,0.12); padding:0.3rem 0.5rem; border-radius:4px; cursor:pointer; font-weight:600; }
.access-btn:focus { outline:3px solid rgba(21,156,228,0.35); }

.access-and-logos { display:flex; align-items:center; gap:0.5rem; }
.header-icons { display:flex; gap:0.35rem; align-items:center; margin-left:0.5rem; }
.icon-btn { background:transparent; border:none; padding:0.35rem; border-radius:4px; cursor:pointer; color:var(--text-color); }
.icon-btn:focus { outline:3px solid rgba(21,156,228,0.35); }
.mini-logo { height:48px; width:auto; }

/* Mobile: make tap targets and spacing friendlier */
.btn, button, .icon-btn, .text-size-btn, .access-btn {
  min-height: 40px;
  min-width: 40px;
}

/* Header text-size controls */
.header-text-controls { display:flex; align-items:center; gap:0.5rem; }
.text-size-controls { display:flex; gap:0.35rem; align-items:center; }
.text-size-btn { background:transparent; border:1px solid rgba(0,0,0,0.08); padding:0.25rem 0.5rem; border-radius:4px; font-weight:700; cursor:pointer; color:var(--text-color); }
.text-size-btn:hover { background:var(--color-muted); transform:translateY(-2px); }
.text-size-btn.active { background:var(--color-primary); color:#fff; border-color:var(--color-primary); }
.skip-inline { margin-left:0.6rem; text-decoration:none; color:var(--text-color); font-weight:600; }
.skip-inline:focus, .skip-inline:hover { text-decoration:underline; color:var(--color-primary); }


.main-nav { background: #fff; border-top:1px solid var(--color-muted); border-bottom:1px solid var(--color-muted); }
.nav-inner { display:flex; align-items:center; }
.nav-list { list-style:none; margin:0; padding:0; display:flex; gap:1rem; align-items:center; }
.nav-list li { position:relative; }
.nav-list a, .nav-list button { text-decoration:none; color:var(--text-color); background:none; border:none; padding:0.5rem 0.5rem; cursor:pointer; font-weight:600; font-size:0.857rem; line-height:1.2; display:inline-flex; align-items:center; gap:0.4rem; }
.nav-list a.active { color:var(--color-primary); border-bottom:3px solid var(--color-primary); padding-bottom:0.6rem; }
.has-sub .submenu { position:absolute; top:100%; left:0; background:white; border:1px solid var(--color-muted); padding:0.5rem; min-width:200px; z-index:200; }
.has-sub .submenu {
  /* keep in flow but hidden for animation */
  position: absolute;
  top: 100%;
  left: 0;
  background: white;
  border: 1px solid var(--color-muted);
  padding: 0.35rem;
  min-width: 200px;
  z-index: 200;
  list-style: none;
  visibility: hidden;
  opacity: 0;
  transform: translateY(-8px);
  pointer-events: none;
  transition: opacity 180ms ease, transform 180ms ease, visibility 180ms;
  font-family: var(--font-sans);
  font-size: 0.95rem;
  border-radius: 6px;
  box-shadow: 0 8px 20px rgba(0,0,0,0.08);
}
.has-sub:hover .submenu, .has-sub:focus-within .submenu {
  visibility: visible;
  opacity: 1;
  transform: translateY(0);
  pointer-events: auto;
}
.has-sub[aria-expanded="true"] .submenu {
  visibility: visible;
  opacity: 1;
  transform: translateY(0);
  pointer-events: auto;
}
.submenu li { padding: 0; margin: 0; list-style: none; }
.submenu a { display: block; padding: 0.5rem 0.75rem; color: var(--text-color); text-decoration: none; border-radius: 4px; }
.submenu a:hover, .submenu a:focus { background: var(--color-muted); color: var(--text-color); outline: none; }

.hero { background: var(--color-muted); padding: 1rem 0; }
.hero-inner { position: relative; overflow: hidden; padding: 1rem 0; min-height:280px; }
.hero-slide { position: absolute; inset: 0; opacity: 0; transform: translateX(6%) scale(0.99); transition: transform 700ms cubic-bezier(.2,.9,.25,1), opacity 700ms ease; display:flex; align-items:center; justify-content:center; padding:1rem; pointer-events:none; }
.hero-image-wrap { width:100%; display:flex; align-items:center; justify-content:center; overflow:hidden; }
.hero-slide img { width:100%; height:auto; display:block; border-radius:8px; max-height:460px; object-fit:cover; transform-origin:center center; transition: transform 900ms ease; }
.hero-slide.active { opacity: 1; transform: translateX(0) scale(1); position:relative; pointer-events:auto; }
.hero-slide.active img { transform: scale(1.06) translateY(-4px); filter: saturate(105%); }

/* unique entrance effect for non-active -> active */
@keyframes heroEntry {
  0% { opacity: 0; transform: translateX(8%) scale(0.98) rotate(-0.4deg); }
  60% { opacity: 1; transform: translateX(-2%) scale(1.02) rotate(0.2deg); }
  100% { opacity: 1; transform: translateX(0) scale(1) rotate(0deg); }
}
.hero-slide.active { animation: heroEntry 700ms cubic-bezier(.2,.9,.25,1) both; }

/* Controls: place prev/next at sides and vertically centered */
.hero-controls { position:absolute; inset:0; pointer-events:none; }
.hero-controls button { pointer-events:all; background: rgba(0,0,0,0.45); color:#fff; border:none; padding:0.6rem 0.8rem; border-radius:8px; font-size:1.25rem; transition: transform 140ms ease, background 140ms; outline:none; position:absolute; top:50%; transform:translateY(-50%); z-index:250; }
.hero-controls button:hover { transform: translateY(-50%) translateY(-3px) scale(1.04); background: rgba(0,0,0,0.6); }
.hero-prev { left: 12px; }
.hero-next { right: 12px; }
/* Pause control positioned at bottom-right of the hero */
.hero-pause {
  top: auto;
  bottom: 12px;
  right: 12px;
  transform: translateY(0);
  padding: 0.5rem 0.6rem;
  border-radius: 6px;
  font-size: 1rem;
}
.hero-pause[aria-pressed="true"] { background: rgba(255,255,255,0.95); color: #000; }

/* stronger positioning to ensure bottom-right placement */
.hero-controls .hero-pause {
  position: absolute;
  top: auto !important;
  bottom: -100px !important;
  right: 12px !important;
  transform: none !important;
  z-index: 260;
}

/* Indicators */
.hero-indicators { position:absolute; bottom:0.6rem; left:50%; transform:translateX(-50%); display:flex; gap:0.5rem; }
.hero-indicators .indicator {
  /* Override global button min-size so indicators stay small */
  min-width: auto;
  min-height: auto;
  width: 10px;
  height: 10px;
  padding: 0;
  border-radius: 50%;
  background: rgba(255,255,255,0.6);
  border: none;
  display: inline-block;
}
.hero-indicators .indicator.active { background:var(--color-primary); transform:scale(1.15); }

/* Respect prefers-reduced-motion */
@media (prefers-reduced-motion: reduce) {
  .hero-slide, .hero-slide.active, .hero-slide img { transition: none !important; animation: none !important; transform: none !important; }
  .hero-controls button { transition: none !important; }
}

.hero-controls { position:absolute; top:50%; left:0; right:0; display:flex; justify-content:space-between; transform:translateY(-50%); pointer-events:none; padding:0 1rem; }
.hero-controls button { pointer-events:all; background: rgba(0,0,0,0.5); color:#fff; border:none; padding:0.5rem 0.75rem; border-radius:4px; font-size:1.5rem; }
.hero-indicators { position:absolute; bottom:0.5rem; left:50%; transform:translateX(-50%); display:flex; gap:0.5rem; }
.hero-indicators .indicator {
  min-width: auto;
  min-height: auto;
  width: 10px;
  height: 10px;
  padding: 0;
  border-radius: 50%;
  background: rgba(255,255,255,0.6);
  border: none;
  display: inline-block;
}
.hero-indicators .indicator.active { background:var(--color-primary); }

.announcements { background: #f6f6f6; padding: 0.5rem 0; border-top:1px solid #e1e1e1; }
.ticker-header { display:flex; align-items:center; justify-content:space-between; gap:1rem; }
.ticker-pause { background:transparent; border:none; cursor:pointer; padding:0.25rem; }

.marquee { overflow:hidden; white-space:nowrap; width:100%; }
.marquee-track { display:inline-block; animation:marquee 18s linear infinite; }
.marquee.paused .marquee-track, .announcements.paused .marquee-track { animation-play-state: paused; }
.marquee-item { display:inline-block; margin-right:2rem; }
.marquee-item .sep { margin-left:0.25rem; margin-right:0.25rem; color:rgba(0,0,0,0.4); }

@keyframes marquee {
  0% { transform:translateX(0%); }
  100% { transform:translateX(-50%); }
}

.ticker ul { display:flex; gap:1rem; list-style:none; margin:0; padding:0; overflow:hidden; }

.about-ministry .cards { display:flex; gap:1rem; margin-top:1rem; }
.card { background: white; border:1px solid var(--color-muted); padding:1rem; border-radius:6px; cursor:pointer; }

.key-offerings { padding:2rem 0; background:#fff; }
.tabs { display:flex; gap:0.5rem; margin-bottom:1rem; }
.tabs button { padding:0.5rem 1rem; background:white; border:1px solid var(--color-muted); border-radius:4px; cursor:pointer; }
.tabs button.active { background:var(--color-primary); color:white; border-color:var(--color-primary); }
.document-cards { display:grid; grid-template-columns:repeat(auto-fit,minmax(220px,1fr)); gap:1rem; }
.key-grid { display:grid; grid-template-columns: 1fr 340px; gap:1rem; align-items:start; }
.offerings-panel { background:#fff; border:1px solid var(--color-muted); padding:1rem; border-radius:6px; }
.offerings-panel h2 { margin-top:0; }
.offerings-list { max-height:220px; overflow:auto; margin-top:0.5rem; border-top:1px solid var(--color-muted); padding-top:0.75rem; }
.offering-item { display:flex; justify-content:space-between; align-items:center; padding:0.6rem 0; border-bottom:1px solid #f0f0f0; }
.offering-item a { color:var(--text-color); text-decoration:none; font-weight:600; }
.chev { color:var(--color-primary); font-size:1.2rem; }
.offerings-footer { display:flex; justify-content:flex-end; margin-top:0.75rem; }
.view-more { background:white; border:1px solid var(--color-primary); color:var(--color-primary); padding:0.4rem 0.9rem; border-radius:4px; cursor:pointer; }

.whats-new { background:var(--color-primary); color:#fff; padding:1rem; border-radius:6px; min-height:260px; display:flex; flex-direction:column; justify-content:space-between; }
.whats-new h3 { margin:0 0 0.5rem 0; color:#fff; }
.whats-new ul { list-style:none; margin:0; padding:0; display:flex; flex-direction:column; gap:0.6rem; }
.whats-new a { color:#fff; text-decoration:none; padding:0.6rem; display:block; background:rgba(255,255,255,0.03); border-radius:4px; }
.whats-new-footer { text-align:right; margin-top:0.5rem; }
.view-more.alt { background:var(--color-primary); color:#fff; border:1px solid rgba(255,255,255,0.2); padding:0.4rem 0.9rem; border-radius:4px; cursor:pointer; }

/* Recent documents + Important Links layout */
.recent-and-links-inner { display:grid; grid-template-columns: 1fr 320px; gap:1rem; align-items:start; margin-top:1rem; }
.recent-column h2, .important-links h2 { margin-top:0; }
.important-links { border:1px solid var(--color-muted); padding:1rem; border-radius:6px; background:#fff; }
.important-links ul { list-style:none; padding:0; margin:0; display:flex; flex-direction:column; gap:0.6rem; }
.important-links a { text-decoration:none; color:var(--text-color); padding:0.5rem; display:block; border-radius:4px; }
.important-links a:hover, .important-links a:focus { background:var(--color-muted); }
.important-links a:focus-visible { outline: 3px solid var(--color-accent); outline-offset: 2px; }
/* Document cards 2x2 grid */
.document-cards { display:grid; grid-template-columns: repeat(2, 1fr); gap:1rem; }
.doc-card { position: relative; display:block; background:#fff; border:1px solid var(--color-muted); border-radius:6px; overflow:hidden; padding:0.9rem; gap:0.5rem; transition: transform 180ms ease, box-shadow 180ms ease; }
.doc-card:hover { transform: translateY(-6px); box-shadow: 0 12px 30px rgba(0,0,0,0.08); }
.doc-content { padding-right: 56px; /* space for arrow */ }
.doc-content h3 { margin:0 0 0.3rem 0; font-size:0.9rem; color:var(--text-color); line-height:1.2; }
.doc-content p { margin:0; color:#444; font-size:0.8rem; line-height:1.35; }
.doc-link { position: absolute; right: 10px; bottom: 10px; display:flex; align-items:center; }
.doc-link-bar { display:flex; align-items:center; justify-content:center; padding:0.25rem; background:transparent; color:var(--color-primary); min-width:36px; height:36px; border-radius:4px; transition: transform 160ms ease; }
.doc-link:hover .doc-link-bar, .doc-card:hover .doc-link-bar { transform: translateX(6px); }

/* Key offerings/whats-new remain above */
.recent-and-links-inner { display:grid; grid-template-columns: 1fr 320px; gap:1rem; align-items:start; margin-top:1rem; }
.recent-column h2, .important-links h2 { margin-top:0; color:var(--color-primary); display:flex; align-items:center; gap:0.5rem; font-weight:700; }
.heading-icon { display:inline-flex; width:32px; height:32px; align-items:center; justify-content:center; color:var(--color-primary); background:transparent; vertical-align:middle; margin-right:0.5rem; }
.important-links { border:1px solid var(--color-muted); padding:1rem; border-radius:6px; background:#fff; }
.important-links ul { list-style:none; padding:0; margin:0; display:flex; flex-direction:column; gap:0.6rem; }
.important-links a { text-decoration:none; color:var(--text-color); padding:0.6rem; display:flex; justify-content:space-between; align-items:center; border-radius:4px; border-bottom:1px solid #f2f2f2; }
.important-links a .link-bar { color:var(--color-primary); font-weight:700; }
.important-links a:hover, .important-links a:focus { background:var(--color-muted); }
.important-links a:focus-visible { outline: 3px solid var(--color-accent); outline-offset: 2px; }

@media (max-width:900px) {
  .document-cards { grid-template-columns: 1fr; }
  .recent-and-links-inner { grid-template-columns: 1fr; }
  .whats-new { min-height: auto; }
}
.doc-card { border:1px solid var(--color-muted); padding:1rem; background:white; border-radius:6px; }

.social-grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(200px,1fr)); gap:1rem; margin-top:1rem; }
.social-grid .card { background:white; border:1px solid var(--color-muted); padding:1rem; border-radius:6px; min-height:120px; }

.site-footer { background: var(--color-primary); color: #fff; padding:2rem 0; margin-top:2rem; }
.footer-inner { display:flex; justify-content:space-between; gap:1rem; align-items:flex-start; flex-wrap:wrap; }
.footer-column { flex: 1 1 220px; min-width:180px; margin-bottom:0.5rem; }
.footer-column h3 { margin-top:0; color:#fff; font-size:1rem; display:flex; align-items:center; gap:0.5rem; }
.footer-column ul { list-style:none; margin:0; padding:0; display:flex; flex-direction:column; gap:0.4rem; }
.footer-column a { color: #e6f6f3; text-decoration:none; }
.footer-column a:hover, .footer-column a:focus { text-decoration:underline; color:#fff; }
.footer-social .social-icons { display:flex; gap:0.5rem; margin-top:0.4rem; }
.footer-social .social { display:inline-flex; width:36px; height:36px; align-items:center; justify-content:center; background:rgba(255,255,255,0.07); border-radius:6px; color:#fff; transition: transform 140ms ease, background 140ms ease; }
.footer-social .social:hover { transform: translateY(-4px); background: rgba(255,255,255,0.12); }
.copyright { background: #0b423b; color:#cfeeea; padding:0.75rem; text-align:center; width:100%; margin-top:1rem; border-top:1px solid rgba(255,255,255,0.04); }

/* Ensure footer links have sufficient contrast on primary background */
.site-footer a { color: #ffffff; text-decoration: underline; }
.site-footer a:focus-visible { outline: 3px solid #cfeeea; outline-offset: 2px; }

@media (max-width: 700px) {
  .header-inner { flex-direction:column; align-items:flex-start; }
  .about-ministry .cards { flex-direction:column; }
}

/* Mobile / small-screen improvements (deep responsive tweaks) */
@media (max-width: 900px) {
  .container { padding: 0.75rem; }
  .site-header .container {flex-direction:column; }
  /* Stack header elements and increase spacing for touch */
  .header-inner { flex-direction: column; align-items: stretch; gap: 0.6rem; }
  .branding { justify-content: flex-start; }
  .search-centered { order: 3; width: 100%; justify-content: stretch; }
  .search-centered input { width: 100%; max-width: 100%; }

  /* Collapsible nav: hide desktop list and show a menu toggle */
  .nav-inner { position: relative; }
  .nav-list { display: none; flex-direction: column; gap: 0; background: #fff; border-top: 1px solid var(--color-muted); width: 100%; padding: 0.5rem 0; box-shadow: 0 8px 20px rgba(0,0,0,0.04); border-radius: 6px; }
  .nav-list.show { display: flex; }
  .nav-list a, .nav-list button { padding: 0.75rem 1rem; font-size: 1rem; width: 100%; text-align: left; }
.menu-toggle { display: inline-flex; align-items:center; gap:0.5rem; background: transparent; border: 1px solid rgba(0,0,0,0.08); padding: 0.5rem 0.75rem; border-radius: 6px; cursor: pointer; }
  .menu-toggle:focus { outline: 3px solid var(--color-accent); outline-offset: 2px; }
/* Separate left/right toggles for topbar */
.menu-toggle-left, .menu-toggle-right { display: none; }

@media (max-width: 900px) {
  .menu-toggle-left, .menu-toggle-right { display: inline-flex; background: transparent; border: none; padding: 0.25rem; min-width: 40px; min-height: 40px; align-items:center; justify-content:center; }
  .menu-toggle-left { order: 0; margin-right: 0.5rem; }
  .menu-toggle-right { order: 4; margin-left: 0.5rem; }
  /* Hide inline header icons by default on mobile; show when toggled */
  .header-icons { display: none !important; }
  .header-icons.show { display: flex !important; gap: 0.5rem; align-items:center; }
}

/* New header rows layout: branding on top, controls row below */
.branding-row { display:flex; justify-content:center; padding:0.5rem 0 0.25rem 0; }
.branding { display:flex; align-items:center; justify-content:center; gap:1rem; width:100%; max-width:1100px; }
.branding .title { flex:1; text-align:center; }
.branding .org { font-weight:700; font-size:1.05rem; color:#000; }
.branding .dept { font-size:0.85rem; color:#000; opacity:0.85; }
.branding .emblem { width:48px; height:auto; }
.branding .logo { width:92px; height:auto; }
.branding .right-logos-containerr { display: flex; flex-direction: column; align-items: center}
.branding .right-logos { display:flex; align-items:center; gap:0.5rem; }
.branding .mini-logo { height:44px; width:auto; }
.controls-row { display:flex; align-items:center; justify-content:space-between; gap:0.5rem; width:100%; padding:0.35rem 0; }
.controls-row { display:flex; align-items:center; justify-content:space-between; gap:0.5rem; width:100%; padding:0.35rem 0; }
.controls-row .search-centered { flex: 1 1 60%; display:flex; align-items:center; justify-content:center; }
.controls-row .search-centered input { width: 100%; max-width: 640px; border-radius: 6px; padding: 0.5rem 0.75rem; }
.controls-row .header-right { display:flex; align-items:center; gap:0.5rem; }

/* New search row + nav row (hamburgers below search) */
.search-row { display:flex; justify-content:center; width:100%; padding:0.35rem 0; }
.search-row .search-centered { width:100%; max-width:720px; display:flex; justify-content:center; align-items:center; }
.nav-row { display:flex; align-items:center; justify-content:space-between; width:100%; padding:0.25rem 0; }
.nav-row .menu-toggle { background: transparent; border: 1px solid rgba(0,0,0,0.06); padding: 0.5rem; border-radius:6px; }
.nav-row-spacer { flex:1; }

/* Ensure header content respects container and doesn't expand page width */
.site-header, .topbar, .main-nav { width: 100%; box-sizing: border-box; }
.site-header .container { max-width: 1100px; margin: 0 auto; padding-left: 1rem; padding-right: 1rem; }

@media (min-width: 901px) {
  /* On larger screens keep earlier layout (horizontal topbar) */
  .topbar { display:flex; align-items:center; justify-content:space-between; padding:0.75rem 0; }
  .branding-row { padding: 0; }
  .branding { flex-direction:row; text-align:left; }
  .branding .org, .branding .dept { color: var(--text-color); }
  .controls-row .search-centered { justify-content:flex-start}
  .mobile-search-row { display:none !important; }
  .nav-row { display:none; }
  .menu-toggle { display: none; }
  .menu-toggle-left, .menu-toggle-right { display: none !important; visibility: hidden !important; background: transparent; border: none; padding: 0.25rem; min-width: 40px; min-height: 40px; align-items:center; justify-content:center; }
}

  /* Make hero more compact on mobile */
  .hero-inner { min-height: 180px; padding: 0.5rem 0; }
  /* Keep slides absolutely positioned on small screens so only the active slide is visible.
     Previously slides were made relative which caused all slides to flow and display one
     after another (breaking the slider into multiple parts). */
  .hero-slide { position: absolute; inset: 0; display: flex; align-items: center; justify-content: center; padding: 0.5rem; pointer-events: none; }
  .hero-slide.active { position: relative; pointer-events: auto; }
  .hero-slide img { border-radius: 6px; max-height: 260px; width: 100%; height: auto; object-fit: cover; }
  .hero-controls button { background: rgba(0,0,0,0.6); padding: 0.45rem 0.6rem; font-size: 1.05rem; border-radius: 6px; }
  .hero-prev { left: 8px; }
  .hero-next { right: 8px; }
  .hero-indicators { bottom: 6px; gap: 0.4rem; }

  /* Stack key grid and recent/links vertically */
  .key-grid { grid-template-columns: 1fr; }
  .recent-and-links-inner { grid-template-columns: 1fr; }
  .document-cards { grid-template-columns: 1fr; }
  .doc-card { padding: 0.85rem; }

  /* Footer: center content and increase tap targets */
  .footer-inner { flex-direction: column; align-items: stretch; gap: 0.75rem; }
  .footer-column { min-width: 100%; }

  /* Larger, more readable headings on mobile using tokens */
  h1 { font-size: clamp(1.4rem, 5.6vw, 2rem); margin: 0.2rem 0 0.6rem 0; }
  h2 { font-size: clamp(1.05rem, 4.2vw, 1.5rem); margin: 0.2rem 0 0.45rem 0; }
  h3 { font-size: clamp(0.95rem, 3.6vw, 1.1rem); margin: 0.1rem 0 0.35rem 0; }
}

/* Small helper so JS can toggle nav: add visible state class without JS layout break */
.nav-inner .nav-list.show { display: flex; }

/* Accessibility typography adjustments applied via classes on <html> */
html.a11y-legible, html.a11y-legible body, html.a11y-legible * {
  /* Use a highly legible system stack */
  font-family: "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif !important;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Increased line-height */
html.a11y-line-height body, html.a11y-line-height p, html.a11y-line-height li, html.a11y-line-height h1,
html.a11y-line-height h2, html.a11y-line-height h3, html.a11y-line-height h4, html.a11y-line-height h5, html.a11y-line-height h6,
html.a11y-line-height .doc-content, html.a11y-line-height .important-links, html.a11y-line-height .offerings-panel {
  line-height: 1.9 !important;
}

/* Letter-spacing options */
html.a11y-letterspacing-normal body, html.a11y-letterspacing-normal p, html.a11y-letterspacing-normal li, html.a11y-letterspacing-normal a,
html.a11y-letterspacing-normal h1, html.a11y-letterspacing-normal h2, html.a11y-letterspacing-normal h3, html.a11y-letterspacing-normal h4, html.a11y-letterspacing-normal h5, html.a11y-letterspacing-normal h6 {
  letter-spacing: 0 !important;
  word-spacing: 0 !important;
}
html.a11y-letterspacing-wide body, html.a11y-letterspacing-wide p, html.a11y-letterspacing-wide li, html.a11y-letterspacing-wide a,
html.a11y-letterspacing-wide h1, html.a11y-letterspacing-wide h2, html.a11y-letterspacing-wide h3, html.a11y-letterspacing-wide h4, html.a11y-letterspacing-wide h5, html.a11y-letterspacing-wide h6 {
  /* Wide: letter-spacing = 0.06em (~0.96px at 16px), word-spacing = 0.20em */
  letter-spacing: 0.06em !important;
  word-spacing: 0.20em !important;
}
html.a11y-letterspacing-widest body, html.a11y-letterspacing-widest p, html.a11y-letterspacing-widest li, html.a11y-letterspacing-widest a,
html.a11y-letterspacing-widest h1, html.a11y-letterspacing-widest h2, html.a11y-letterspacing-widest h3, html.a11y-letterspacing-widest h4, html.a11y-letterspacing-widest h5, html.a11y-letterspacing-widest h6 {
  /* Widest: letter-spacing = 0.12em (~1.92px at 16px), word-spacing = 0.36em */
  letter-spacing: 0.12em !important;
  word-spacing: 0.36em !important;
}

/* Text justification toggle */
html.a11y-text-justify p, html.a11y-text-justify li, html.a11y-text-justify .doc-content, html.a11y-text-justify .offerings-panel {
  text-align: justify !important;
}

/* Ensure controls and inputs inherit legible font and spacing */
html.a11y-legible input, html.a11y-legible textarea, html.a11y-legible button, html.a11y-legible select {
  font-family: "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif !important;
}

/* Make sure headings scale nicely with font-size changes */
html.a11y-font-large h1, html.a11y-font-large h2, html.a11y-font-large h3, html.a11y-font-large h4, html.a11y-font-large h5, html.a11y-font-large h6 {
  line-height: 1.2;
}

/* Tooltips when enabled (site-wide). Elements must have `data-tooltip` attribute. */
html.a11y-tooltips [data-tooltip]:hover::after,
html.a11y-tooltips [data-tooltip]:focus::after,
html.a11y-tooltips [data-tooltip]:focus-within::after {
  content: attr(data-tooltip);
  position: absolute;
  background: rgba(0,0,0,0.85);
  color: #fff;
  padding: 0.35rem 0.5rem;
  border-radius: 4px;
  font-size: 0.85rem;
  white-space: nowrap;
  transform: translateY(-8px);
  z-index: 999999;
  box-shadow: 0 6px 18px rgba(0,0,0,0.25);
}

/* Ensure tooltip placement inside toolbar doesn't get clipped */
.a11y-panel [data-tooltip] { position: relative; }

/* Ensure toggles are completely hidden on larger screens (extra specificity in case of overrides) */
@media (min-width: 901px) {
  .site-header .menu-toggle,
  .site-header .menu-toggle-left,
  .site-header .menu-toggle-right {
    display: none !important;
    visibility: hidden !important;
    pointer-events: none !important;
    width: 0 !important;
    height: 0 !important;
    overflow: hidden !important;
  }
}

/* Control which search row is visible:
   - On desktop (>=901px) show the primary/top search row and hide the mobile search row.
   - On mobile (<=900px) hide the primary/top search row and show the mobile search row. */
@media (min-width: 901px) {
  /* show top search row, hide mobile duplicate */
  .search-row.mobile-search-row {
    display: none !important;
    visibility: hidden !important;
    height: 0 !important;
    overflow: hidden !important;
    pointer-events: none !important;
  }
  .search-row:not(.mobile-search-row) {
    display: flex !important;
    visibility: visible !important;
    height: auto !important;
    pointer-events: auto !important;
  }
}

@media (max-width: 900px) {
  /* hide the top/primary search row on small screens */
  .search-row:not(.mobile-search-row) {
    display: none !important;
    visibility: hidden !important;
    height: 0 !important;
    overflow: hidden !important;
    pointer-events: none !important;
  }
  /* show the mobile search row */
  .search-row.mobile-search-row {
    display: flex !important;
    visibility: visible !important;
    height: auto !important;
    overflow: visible !important;
    pointer-events: auto !important;
    width: 100%;
  }
  /* ensure the inner search-centered stretches on mobile */
  .search-row.mobile-search-row .search-centered { width: 100%; justify-content: center; }
}

/* Right-logos: show the "up" logo only on mobile, the "down" logo only on desktop.
   Also switch the layout of the container: column on mobile, row on desktop so the
   LPSC logo and down logo sit side-by-side on larger screens. */
.right-logos-container { display:flex; flex-direction: column; align-items: center; gap: 0.5rem; }
.right-logos-container .right-logos { display: none; }
.right-logos-container .logo { order: 2; }

@media (max-width: 900px) {
  .right-logos-container { flex-direction: column; }
  .right-logos-container .right-logos.up { display: flex !important; order: 1; }
  .right-logos-container .right-logos.down { display: none !important; }
  .right-logos-container .logo { order: 2; }
}

@media (min-width: 901px) {
  .right-logos-container { flex-direction: row; align-items: center; justify-content: flex-end; gap: 0.75rem; }
  .right-logos-container .right-logos.up { display: none !important; }
  .right-logos-container .right-logos.down { display: flex !important; order: 3; padding-left: 10px }
  .right-logos-container .logo { order: 2; }
  /* ensure logos align on single row and don't stack */
  .right-logos-container .mini-logo { height: 60px; }
}

